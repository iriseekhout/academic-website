<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agreement for polytomous outcomes • Agree</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Agreement for polytomous outcomes">
<meta property="og:description" content="Agree">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Agree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/dichotomous.html">Agreement for dichotomous outcomes</a>
    </li>
    <li>
      <a href="../articles/icc_varcomp.html">ICC from variance components</a>
    </li>
    <li>
      <a href="../articles/polytomous.html">Agreement for polytomous outcomes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://iriseekhout.com/#r" class="external-link">
    <span class="fa fa-arrow-circle-left fa-lg"></span>
     
    Go back to main site
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Agreement for polytomous outcomes</h1>
                        <h4 data-toc-skip class="author">Iris
Eekhout</h4>
            
            <h4 data-toc-skip class="date">2022-09-12</h4>
      
      
      <div class="hidden name"><code>polytomous.Rmd</code></div>

    </div>

    
    
<p>This document describes the use of the Agree package for two data
examples that are used in the paper on specific agreement on polytomous
outcomes in the situation of more than two raters <span class="citation">(de Vet, Mullender, and Eekhout 2018)</span>. The first
data example is an example of ordinal ratings and the second example of
nominal rating.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">Agree</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'Agree'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     kappa</span></span></code></pre>
<div class="section level2">
<h2 id="ordinal-data-example">Ordinal data example<a class="anchor" aria-label="anchor" href="#ordinal-data-example"></a>
</h2>
<p>For the ordinal data example we use data from a study by <span class="citation">Dikmans et al. (2017)</span>. This data is based on
photographs of breasts of 50 women after breast reconstruction. The
photographs are independently scored by 5 surgeons, the patients, and
three mothers. They each rated the quality of the reconstruction on a 5
point ordinal scale with the verbal anchors on the left side ‘very
dissatisfied’ on the left end and on the right end ‘very satisfied’ on
the right end. They specifically rated the volume, shape, symmetry,
scars and nipple. In this paper we use the data of 4 surgeons because
one surgeon had some missing values and we look at the rates for
symmetry. Data set 1 is used for the example of ordinal categories.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">breast</span><span class="op">)</span></span>
<span></span>
<span><span class="va">variable</span> <span class="op">&lt;-</span> <span class="st">"symmetry"</span></span>
<span><span class="va">raters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PCH1"</span>, <span class="st">"PCH2"</span>, <span class="st">"PCH3"</span>, <span class="st">"PCH4"</span><span class="op">)</span></span>
<span><span class="va">ratersvars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">raters</span>, <span class="va">variable</span>, sep<span class="op">=</span><span class="st">"_"</span><span class="op">)</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">breast</span><span class="op">[</span><span class="va">ratersvars</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       PCH1_symmetry  PCH2_symmetry PCH3_symmetry PCH4_symmetry</span></span>
<span><span class="co">## 1         satisfied very satisfied     satisfied     satisfied</span></span>
<span><span class="co">## 2           neutral        neutral  dissatisfied       neutral</span></span>
<span><span class="co">## 3         satisfied        neutral       neutral       neutral</span></span>
<span><span class="co">## 4      dissatisfied        neutral  dissatisfied  dissatisfied</span></span>
<span><span class="co">## 5 very dissatisfied      satisfied  dissatisfied     satisfied</span></span>
<span><span class="co">## 6         satisfied        neutral     satisfied     satisfied</span></span></code></pre>
<div class="section level3">
<h3 id="agreement-table">Agreement table<a class="anchor" aria-label="anchor" href="#agreement-table"></a>
</h3>
<p>First the agreement table are summed for all rater combinations into
one agreement table. Then the off diagonal cells are averaged to obtain
symmetry agreement tables.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sumtable.html">sumtable</a></span><span class="op">(</span><span class="va">data1</span>,offdiag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="21%">
<col width="21%">
<col width="15%">
<col width="9%">
<col width="12%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">very dissatisfied</th>
<th align="right">dissatisfied</th>
<th align="right">neutral</th>
<th align="right">satisfied</th>
<th align="right">very satisfied</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">very dissatisfied</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">dissatisfied</td>
<td align="right">0</td>
<td align="right">19</td>
<td align="right">23</td>
<td align="right">8</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">neutral</td>
<td align="right">0</td>
<td align="right">18</td>
<td align="right">39</td>
<td align="right">27</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">satisfied</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">28</td>
<td align="right">28</td>
<td align="right">16</td>
</tr>
<tr class="odd">
<td align="left">very satisfied</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">36</td>
<td align="right">38</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sumtable.html">sumtable</a></span><span class="op">(</span><span class="va">data1</span>,offdiag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="21%">
<col width="21%">
<col width="15%">
<col width="9%">
<col width="12%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">very dissatisfied</th>
<th align="right">dissatisfied</th>
<th align="right">neutral</th>
<th align="right">satisfied</th>
<th align="right">very satisfied</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">very dissatisfied</td>
<td align="right">6.0</td>
<td align="right">0.5</td>
<td align="right">0.0</td>
<td align="right">1.0</td>
<td align="right">0.0</td>
</tr>
<tr class="even">
<td align="left">dissatisfied</td>
<td align="right">0.5</td>
<td align="right">19.0</td>
<td align="right">20.5</td>
<td align="right">6.0</td>
<td align="right">0.5</td>
</tr>
<tr class="odd">
<td align="left">neutral</td>
<td align="right">0.0</td>
<td align="right">20.5</td>
<td align="right">39.0</td>
<td align="right">27.5</td>
<td align="right">3.0</td>
</tr>
<tr class="even">
<td align="left">satisfied</td>
<td align="right">1.0</td>
<td align="right">6.0</td>
<td align="right">27.5</td>
<td align="right">28.0</td>
<td align="right">26.0</td>
</tr>
<tr class="odd">
<td align="left">very satisfied</td>
<td align="right">0.0</td>
<td align="right">0.5</td>
<td align="right">3.0</td>
<td align="right">26.0</td>
<td align="right">38.0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="agreement">Agreement<a class="anchor" aria-label="anchor" href="#agreement"></a>
</h3>
<p>From the agreement table we can calculate the agreement. And we can
calculate the confidence interval around this agreement.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## overall agreement </span></span>
<span><span class="co">##         0.4333333</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## overall agreement             lower             upper </span></span>
<span><span class="co">##         0.4333333         0.3286321         0.5434725</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="specific-agreement">Specific agreement<a class="anchor" aria-label="anchor" href="#specific-agreement"></a>
</h3>
<p>The specific agreement for polytomous data, can be defined in two
ways: the agreement of for one category versus not that category
(e.g. very satisfied versus all other categories) or the agreement for
one category versus any other (e.g. very satistfied versus satisfied).
Below the Confidence intervals for the specific agreements are
bootstrapped.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, specific<span class="op">=</span><span class="st">"satisfied"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                       p     lower     upper</span></span>
<span><span class="co">## overall agreement             0.4333333 0.3286321 0.5434725</span></span>
<span><span class="co">## specific agreement: satisfied 0.3163842 0.2269504 0.4043930</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, specific<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"satisfied"</span>, <span class="st">"very satisfied"</span><span class="op">)</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                                         p     lower     upper</span></span>
<span><span class="co">## overall agreement                               0.4333333 0.3286321 0.5434725</span></span>
<span><span class="co">## specific agreement: satisfied vs very satisfied 0.5185185 0.3716486 0.6536100</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, specific<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"satisfied"</span>,<span class="st">"neutral"</span><span class="op">)</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                                  p     lower     upper</span></span>
<span><span class="co">## overall agreement                        0.4333333 0.3286321 0.5434725</span></span>
<span><span class="co">## specific agreement: satisfied vs neutral 0.5045045 0.3688637 0.6240566</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="conditional-probability">Conditional probability<a class="anchor" aria-label="anchor" href="#conditional-probability"></a>
</h3>
<p>We can calulate the probability of any other outcome conditional on
an specific outcome.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/conditional.agreement.html">conditional.agreement</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="17%">
<col width="10%">
<col width="10%">
<col width="17%">
<col width="12%">
<col width="7%">
<col width="9%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">prevalence</th>
<th align="right">proportion</th>
<th align="right">very dissatisfied</th>
<th align="right">dissatisfied</th>
<th align="right">neutral</th>
<th align="right">satisfied</th>
<th align="right">very satisfied</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">very dissatisfied</td>
<td align="right">7.5</td>
<td align="right">0.025</td>
<td align="right">0.800</td>
<td align="right">0.067</td>
<td align="right">0.000</td>
<td align="right">0.133</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">dissatisfied</td>
<td align="right">46.5</td>
<td align="right">0.155</td>
<td align="right">0.011</td>
<td align="right">0.409</td>
<td align="right">0.441</td>
<td align="right">0.129</td>
<td align="right">0.011</td>
</tr>
<tr class="odd">
<td align="left">neutral</td>
<td align="right">90.0</td>
<td align="right">0.300</td>
<td align="right">0.000</td>
<td align="right">0.228</td>
<td align="right">0.433</td>
<td align="right">0.306</td>
<td align="right">0.033</td>
</tr>
<tr class="even">
<td align="left">satisfied</td>
<td align="right">88.5</td>
<td align="right">0.295</td>
<td align="right">0.011</td>
<td align="right">0.068</td>
<td align="right">0.311</td>
<td align="right">0.316</td>
<td align="right">0.294</td>
</tr>
<tr class="odd">
<td align="left">very satisfied</td>
<td align="right">67.5</td>
<td align="right">0.225</td>
<td align="right">0.000</td>
<td align="right">0.007</td>
<td align="right">0.044</td>
<td align="right">0.385</td>
<td align="right">0.563</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="weighted-agreement">Weighted agreement<a class="anchor" aria-label="anchor" href="#weighted-agreement"></a>
</h3>
<p>For ordinal data it might also be useful to look at the agreement
when they may be one category off. So the agreement plus or minus one
category, that categories is weighted (default weight=1).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/weighted.agreement.html">weighted.agreement</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.93</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/weighted.agreement.html">weighted.agreement</a></span><span class="op">(</span><span class="va">data1</span>, weight<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.6816667</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="nominal-data-example">nominal data example<a class="anchor" aria-label="anchor" href="#nominal-data-example"></a>
</h2>
<p>For the nominal data example we use a data set that was used in a
paper by <span class="citation">Fleis (1971)</span>. In this data
patients are diagnosed in 5 categories: Depression, Personality
Disorder, Schizophrenia, Neurosis, and Other by 6 raters.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">diagnoses</span><span class="op">)</span> </span>
<span><span class="va">data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">diagnoses</span>,<span class="va">as.factor</span><span class="op">)</span>, stringsAsFactors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data2</span><span class="op">$</span><span class="va">rater1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Depression"</span>, <span class="st">"Pers disord."</span>, <span class="st">"Schizophrenia"</span>, <span class="st">"Neurosis"</span>, <span class="st">"Other"</span><span class="op">)</span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data2</span><span class="op">$</span><span class="va">rater2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Depression"</span>, <span class="st">"Pers disord."</span>, <span class="st">"Schizophrenia"</span>, <span class="st">"Neurosis"</span>, <span class="st">"Other"</span><span class="op">)</span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data2</span><span class="op">$</span><span class="va">rater3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Depression"</span>, <span class="st">"Pers disord."</span>, <span class="st">"Schizophrenia"</span>, <span class="st">"Neurosis"</span>, <span class="st">"Other"</span><span class="op">)</span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data2</span><span class="op">$</span><span class="va">rater4</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Depression"</span>, <span class="st">"Pers disord."</span>, <span class="st">"Schizophrenia"</span>, <span class="st">"Neurosis"</span>, <span class="st">"Other"</span><span class="op">)</span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data2</span><span class="op">$</span><span class="va">rater5</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Depression"</span>, <span class="st">"Pers disord."</span>, <span class="st">"Schizophrenia"</span>, <span class="st">"Neurosis"</span>, <span class="st">"Other"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="agreement-table-1">Agreement table<a class="anchor" aria-label="anchor" href="#agreement-table-1"></a>
</h3>
<p>First the agreement table are summed for all rater combinations into
one agreement table. Then the off diagonal cells are averaged to obtain
symmetry agreement tables.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sumtable.html">sumtable</a></span><span class="op">(</span><span class="va">data2</span>,offdiag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="17%">
<col width="7%">
<col width="9%">
<col width="10%">
<col width="6%">
<col width="4%">
<col width="17%">
<col width="12%">
<col width="8%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Depression</th>
<th align="right">Pers disord.</th>
<th align="right">Schizophrenia</th>
<th align="right">Neurosis</th>
<th align="right">Other</th>
<th align="right">2. Personality Disorder</th>
<th align="right">3. Schizophrenia</th>
<th align="right">4. Neurosis</th>
<th align="right">5. Other</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Depression</td>
<td align="right">23</td>
<td align="right">1</td>
<td align="right">11</td>
<td align="right">20</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Pers disord.</td>
<td align="right">0</td>
<td align="right">23</td>
<td align="right">6</td>
<td align="right">17</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">13</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Schizophrenia</td>
<td align="right">7</td>
<td align="right">4</td>
<td align="right">36</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Neurosis</td>
<td align="right">10</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">53</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">24</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Other</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">43</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">2. Personality Disorder</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">3. Schizophrenia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">4. Neurosis</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">5. Other</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sumtable.html">sumtable</a></span><span class="op">(</span><span class="va">data2</span>,offdiag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="17%">
<col width="7%">
<col width="9%">
<col width="10%">
<col width="6%">
<col width="4%">
<col width="17%">
<col width="12%">
<col width="8%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Depression</th>
<th align="right">Pers disord.</th>
<th align="right">Schizophrenia</th>
<th align="right">Neurosis</th>
<th align="right">Other</th>
<th align="right">2. Personality Disorder</th>
<th align="right">3. Schizophrenia</th>
<th align="right">4. Neurosis</th>
<th align="right">5. Other</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Depression</td>
<td align="right">23.0</td>
<td align="right">0.5</td>
<td align="right">9.0</td>
<td align="right">15.0</td>
<td align="right">4.5</td>
<td align="right">2.5</td>
<td align="right">1.5</td>
<td align="right">4.5</td>
<td align="right">4.5</td>
</tr>
<tr class="even">
<td align="left">Pers disord.</td>
<td align="right">0.5</td>
<td align="right">23.0</td>
<td align="right">5.0</td>
<td align="right">16.5</td>
<td align="right">5.0</td>
<td align="right">0.0</td>
<td align="right">1.5</td>
<td align="right">7.0</td>
<td align="right">4.0</td>
</tr>
<tr class="odd">
<td align="left">Schizophrenia</td>
<td align="right">9.0</td>
<td align="right">5.0</td>
<td align="right">36.0</td>
<td align="right">0.0</td>
<td align="right">4.0</td>
<td align="right">0.0</td>
<td align="right">4.5</td>
<td align="right">1.5</td>
<td align="right">7.5</td>
</tr>
<tr class="even">
<td align="left">Neurosis</td>
<td align="right">15.0</td>
<td align="right">16.5</td>
<td align="right">0.0</td>
<td align="right">53.0</td>
<td align="right">1.5</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">17.0</td>
<td align="right">4.5</td>
</tr>
<tr class="odd">
<td align="left">Other</td>
<td align="right">4.5</td>
<td align="right">5.0</td>
<td align="right">4.0</td>
<td align="right">1.5</td>
<td align="right">43.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">14.5</td>
</tr>
<tr class="even">
<td align="left">2. Personality Disorder</td>
<td align="right">2.5</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
<tr class="odd">
<td align="left">3. Schizophrenia</td>
<td align="right">1.5</td>
<td align="right">1.5</td>
<td align="right">4.5</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
<tr class="even">
<td align="left">4. Neurosis</td>
<td align="right">4.5</td>
<td align="right">7.0</td>
<td align="right">1.5</td>
<td align="right">17.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
<tr class="odd">
<td align="left">5. Other</td>
<td align="right">4.5</td>
<td align="right">4.0</td>
<td align="right">7.5</td>
<td align="right">4.5</td>
<td align="right">14.5</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="agreement-1">Agreement<a class="anchor" aria-label="anchor" href="#agreement-1"></a>
</h3>
<p>From the agreement table we can calculate the agreement. And we can
calculate the confidence interval around this agreement.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data2</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## overall agreement             lower             upper </span></span>
<span><span class="co">##         0.3955556         0.2805873         0.5200202</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="specific-agreement-1">Specific agreement<a class="anchor" aria-label="anchor" href="#specific-agreement-1"></a>
</h3>
<p>The specific agreement for polytomous data, can be defined in two
ways: the agreement of for one category versus not that category
(e.g. Depression versus all other categories) or the agreement for one
category versus any other (e.g. Depression versus Schizophrenia). The
confidence intervals for specific agreement are bootstrapped.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data2</span>, specific<span class="op">=</span><span class="st">"Depression"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                        p     lower     upper</span></span>
<span><span class="co">## overall agreement              0.3955556 0.2805873 0.5200202</span></span>
<span><span class="co">## specific agreement: Depression 0.3538462 0.1250000 0.5334211</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data2</span>, specific<span class="op">=</span><span class="st">"Pers disord."</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                          p     lower     upper</span></span>
<span><span class="co">## overall agreement                0.3955556 0.2805873 0.5200202</span></span>
<span><span class="co">## specific agreement: Pers disord. 0.3680000 0.1777778 0.5455219</span></span></code></pre>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data2</span>, specific<span class="op">=</span><span class="st">"Schizophrenia"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                           p     lower     upper</span></span>
<span><span class="co">## overall agreement                 0.3955556 0.2805873 0.5200202</span></span>
<span><span class="co">## specific agreement: Schizophrenia 0.5333333 0.3777083 0.6560000</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data2</span>, specific<span class="op">=</span><span class="st">"Neurosis"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                      p     lower     upper</span></span>
<span><span class="co">## overall agreement            0.3955556 0.2805873 0.5200202</span></span>
<span><span class="co">## specific agreement: Neurosis 0.4930233 0.3789474 0.5825101</span></span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data2</span>, specific<span class="op">=</span><span class="st">"Other"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                   p     lower     upper</span></span>
<span><span class="co">## overall agreement         0.3955556 0.2805873 0.5200202</span></span>
<span><span class="co">## specific agreement: Other 0.5931034 0.3157895 0.7280051</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="conditional-agreement">Conditional agreement<a class="anchor" aria-label="anchor" href="#conditional-agreement"></a>
</h3>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/conditional.agreement.html">conditional.agreement</a></span><span class="op">(</span><span class="va">data2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="14%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="8%">
<col width="8%">
<col width="5%">
<col width="3%">
<col width="14%">
<col width="10%">
<col width="7%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">prevalence</th>
<th align="right">proportion</th>
<th align="right">Depression</th>
<th align="right">Pers disord.</th>
<th align="right">Schizophrenia</th>
<th align="right">Neurosis</th>
<th align="right">Other</th>
<th align="right">2. Personality Disorder</th>
<th align="right">3. Schizophrenia</th>
<th align="right">4. Neurosis</th>
<th align="right">5. Other</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Depression</td>
<td align="right">65.0</td>
<td align="right">0.1444444</td>
<td align="right">0.354</td>
<td align="right">0.008</td>
<td align="right">0.138</td>
<td align="right">0.231</td>
<td align="right">0.069</td>
<td align="right">0.038</td>
<td align="right">0.023</td>
<td align="right">0.069</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">Pers disord.</td>
<td align="right">62.5</td>
<td align="right">0.1388889</td>
<td align="right">0.008</td>
<td align="right">0.368</td>
<td align="right">0.080</td>
<td align="right">0.264</td>
<td align="right">0.080</td>
<td align="right">0.000</td>
<td align="right">0.024</td>
<td align="right">0.112</td>
<td align="right">0.064</td>
</tr>
<tr class="odd">
<td align="left">Schizophrenia</td>
<td align="right">67.5</td>
<td align="right">0.1500000</td>
<td align="right">0.133</td>
<td align="right">0.074</td>
<td align="right">0.533</td>
<td align="right">0.000</td>
<td align="right">0.059</td>
<td align="right">0.000</td>
<td align="right">0.067</td>
<td align="right">0.022</td>
<td align="right">0.111</td>
</tr>
<tr class="even">
<td align="left">Neurosis</td>
<td align="right">107.5</td>
<td align="right">0.2388889</td>
<td align="right">0.140</td>
<td align="right">0.153</td>
<td align="right">0.000</td>
<td align="right">0.493</td>
<td align="right">0.014</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.158</td>
<td align="right">0.042</td>
</tr>
<tr class="odd">
<td align="left">Other</td>
<td align="right">72.5</td>
<td align="right">0.1611111</td>
<td align="right">0.062</td>
<td align="right">0.069</td>
<td align="right">0.055</td>
<td align="right">0.021</td>
<td align="right">0.593</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.200</td>
</tr>
<tr class="even">
<td align="left">2. Personality Disorder</td>
<td align="right">2.5</td>
<td align="right">0.0055556</td>
<td align="right">1.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">3. Schizophrenia</td>
<td align="right">7.5</td>
<td align="right">0.0166667</td>
<td align="right">0.200</td>
<td align="right">0.200</td>
<td align="right">0.600</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">4. Neurosis</td>
<td align="right">30.0</td>
<td align="right">0.0666667</td>
<td align="right">0.150</td>
<td align="right">0.233</td>
<td align="right">0.050</td>
<td align="right">0.567</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">5. Other</td>
<td align="right">35.0</td>
<td align="right">0.0777778</td>
<td align="right">0.129</td>
<td align="right">0.114</td>
<td align="right">0.214</td>
<td align="right">0.129</td>
<td align="right">0.414</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-devet2018" class="csl-entry">
de Vet, H. C. W., M. G. Mullender, and I Eekhout. 2018. <span>“Specific
Agreement on Ordinal and Multiple Nominal Outcomes Can Be Calculated for
More Than Two Raters.”</span> <em>Journal of Clinical Epidemiology</em>
96: 47–53. <a href="https://www.jclinepi.com/article/S0895-4356(16)30837-X/abstract" class="external-link">https://www.jclinepi.com/article/S0895-4356(16)30837-X/abstract</a>.
</div>
<div id="ref-dikmans2017" class="csl-entry">
Dikmans, R. E., L. Nene, M. B. Bouman, H. C. W. de Vet, M. Mireau, M. E.
Buncamper, H. Winters, M. Ritt, and M. G. Mullender. 2017. <span>“<a href="">The Aesthetic Items Scale: A Tool for the Evaluation of
Aesthetic Outcome After Breast Reconstruction</a>.”</span> <em>Plastic
and Reconstructive Surgery. Global Open.</em> 5 (3): e1254.
</div>
<div id="ref-fleis1971" class="csl-entry">
Fleis, J. L. 1971. <span>“<a href="">Measuring Nominal Scale Agreement
Among Many Raters</a>.”</span> <em>Psychologiclal Bulletin</em> 76 (5):
378–82.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Iris Eekhout.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
