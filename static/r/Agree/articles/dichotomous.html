<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agreement for dichotomous outcomes • Agree</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Agreement for dichotomous outcomes">
<meta property="og:description" content="Agree">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Agree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/dichotomous.html">Agreement for dichotomous outcomes</a>
    </li>
    <li>
      <a href="../articles/icc_varcomp.html">ICC from variance components</a>
    </li>
    <li>
      <a href="../articles/polytomous.html">Agreement for polytomous outcomes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://iriseekhout.com/#r" class="external-link">
    <span class="fa fa-arrow-circle-left fa-lg"></span>
     
    Go back to main site
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Agreement for dichotomous outcomes</h1>
                        <h4 data-toc-skip class="author">Iris
Eekhout</h4>
            
            <h4 data-toc-skip class="date">2022-09-12</h4>
      
      
      <div class="hidden name"><code>dichotomous.Rmd</code></div>

    </div>

    
    
<p>This document describes the use of the Agree package for the data
example that was used in the paper on specific agreement on dichotomous
outcomes in the situation of more than two raters. The method was fully
explained an described in <span class="citation">de Vet, Dikmans, and
Eekhout (2017)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">Agree</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'Agree'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     kappa</span></span></code></pre>
<div class="section level2">
<h2 id="description-of-data-example">Description of data example<a class="anchor" aria-label="anchor" href="#description-of-data-example"></a>
</h2>
<p>For the data example we used data from a study by <span class="citation">Dikmans et al. (2017)</span>. This data is based on
photographs of breasts of 50 women after breast reconstruction. The
photographs are independently scored by 5 surgeons, the patient, and
three mothers. They each rated the quality of the reconstruction on a 5
point ordinal scale with the verbal anchors on the left side ‘very
dissatisfied’ on the left end and on the right end ‘very satisfied’ on
the right end. They specifically rated the volume, shape, symmetry,
scars and nipple. In this paper we use the data of 4 surgeons because
one surgeon had some missing values and we look at the rates for
symmetry. The satisfaction scores were dichotomised into satisfied
(scores 4 and 5) and not satisfied (scores 1,2, and 3).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">breast</span><span class="op">)</span></span>
<span><span class="va">variable</span> <span class="op">&lt;-</span> <span class="st">"symmetry"</span></span>
<span><span class="va">raters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PCH1"</span>, <span class="st">"PCH2"</span>, <span class="st">"PCH3"</span>, <span class="st">"PCH4"</span><span class="op">)</span></span>
<span><span class="va">ratersvars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">raters</span>, <span class="va">variable</span>, sep<span class="op">=</span><span class="st">"_"</span><span class="op">)</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">breast</span><span class="op">[</span><span class="va">ratersvars</span><span class="op">]</span><span class="op">)</span></span>
<span> <span class="kw">for</span> <span class="op">(</span><span class="va">r</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ratersvars</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">data1</span><span class="op">[</span><span class="va">ratersvars</span><span class="op">[</span><span class="va">r</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data1</span><span class="op">[</span><span class="va">ratersvars</span><span class="op">[</span><span class="va">r</span><span class="op">]</span><span class="op">]</span><span class="op">==</span><span class="st">"very satisfied"</span><span class="op">|</span><span class="va">data1</span><span class="op">[</span><span class="va">ratersvars</span><span class="op">[</span><span class="va">r</span><span class="op">]</span><span class="op">]</span><span class="op">==</span><span class="st">"satisfied"</span>,<span class="st">"satisfied"</span>,<span class="st">"not satisfied"</span><span class="op">)</span></span>
<span> <span class="op">}</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">data1</span><span class="op">[</span><span class="va">ratersvars</span><span class="op">]</span>, <span class="fl">2</span>, <span class="va">as.factor</span><span class="op">)</span>, stringsAsFactors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   PCH1_symmetry PCH2_symmetry PCH3_symmetry PCH4_symmetry</span></span>
<span><span class="co">## 1     satisfied     satisfied     satisfied     satisfied</span></span>
<span><span class="co">## 2 not satisfied not satisfied not satisfied not satisfied</span></span>
<span><span class="co">## 3     satisfied not satisfied not satisfied not satisfied</span></span>
<span><span class="co">## 4 not satisfied not satisfied not satisfied not satisfied</span></span>
<span><span class="co">## 5 not satisfied     satisfied not satisfied     satisfied</span></span>
<span><span class="co">## 6     satisfied not satisfied     satisfied     satisfied</span></span></code></pre>
<div class="section level3">
<h3 id="agreement-table">Agreement table<a class="anchor" aria-label="anchor" href="#agreement-table"></a>
</h3>
<p>First the agreement tables are summed for all rater combinations into
one agreement table. Then the off diagonal cells are averaged to obtain
symmetry agreement tables. Note that data1 contains a column per rater
for the variable of interest.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sumtable.html">sumtable</a></span><span class="op">(</span><span class="va">data1</span>,offdiag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">not satisfied</th>
<th align="right">satisfied</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">not satisfied</td>
<td align="right">106</td>
<td align="right">42</td>
</tr>
<tr class="even">
<td align="left">satisfied</td>
<td align="right">34</td>
<td align="right">118</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sumtable.html">sumtable</a></span><span class="op">(</span><span class="va">data1</span>,offdiag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">not satisfied</th>
<th align="right">satisfied</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">not satisfied</td>
<td align="right">106</td>
<td align="right">38</td>
</tr>
<tr class="even">
<td align="left">satisfied</td>
<td align="right">38</td>
<td align="right">118</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="agreement">Agreement<a class="anchor" aria-label="anchor" href="#agreement"></a>
</h3>
<p>From the agreement table we can calculate the agreement. And we can
calculate the confidence interval around this agreement.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## overall agreement </span></span>
<span><span class="co">##         0.7466667</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## overall agreement             lower             upper </span></span>
<span><span class="co">##         0.7466667         0.6608408         0.8215369</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="specific-agreement">Specific agreement<a class="anchor" aria-label="anchor" href="#specific-agreement"></a>
</h3>
<p>The specific agreement for dichotomous data can be evaluated for the
satisfied scores and for the not satisfied scores.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, specific<span class="op">=</span><span class="st">"satisfied"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                       p     lower     upper</span></span>
<span><span class="co">## overall agreement             0.7466667 0.6608408 0.8215369</span></span>
<span><span class="co">## specific agreement: satisfied 0.7564103 0.6407977 0.8505168</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/agreement.html">agreement</a></span><span class="op">(</span><span class="va">data1</span>, specific<span class="op">=</span><span class="st">"not satisfied"</span>, confint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                           p     lower     upper</span></span>
<span><span class="co">## overall agreement                 0.7466667 0.6608408 0.8215369</span></span>
<span><span class="co">## specific agreement: not satisfied 0.7361111 0.6156558 0.8355576</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="validation-of-confidence-interval">Validation of Confidence interval<a class="anchor" aria-label="anchor" href="#validation-of-confidence-interval"></a>
</h3>
<p>Simulation to compare the Fleis correction</p>
<p>Follows….</p>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-devet2017" class="csl-entry">
de Vet, H. C. W., R. E. Dikmans, and I Eekhout. 2017. <span>“Specific
Agreement on Dichotomous Outcomes Can Be Calculated for More Than Two
Raters.”</span> <em>Journal of Clinical Epidemiology</em> 83: 85–89. <a href="https://www.jclinepi.com/article/S0895-4356(16)30837-X/abstract" class="external-link">https://www.jclinepi.com/article/S0895-4356(16)30837-X/abstract</a>.
</div>
<div id="ref-dikmans2017" class="csl-entry">
Dikmans, R. E., L. Nene, M. B. Bouman, H. C. W. de Vet, M. Mireau, M. E.
Buncamper, H. Winters, M. Ritt, and M. G. Mullender. 2017. <span>“<a href="">The Aesthetic Items Scale: A Tool for the Evaluation of
Aesthetic Outcome After Breast Reconstruction</a>.”</span> <em>Plastic
and Reconstructive Surgery. Global Open.</em> 5 (3): e1254.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Iris Eekhout.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
